(import 
    ;; Load Chez Scheme primitives:
    (chezscheme)
    ;; Load provided compiler framework:
    (Framework driver)
    (Framework wrappers)
    (Framework match)
    (Framework helpers)
    ;; Load your passes from the files you wrote them in:
    (Compiler verify-scheme)
    (Compiler uncover-frame-conflict)
    (Compiler select-instructions)
    (Compiler introduce-allocation-forms)
    (Compiler uncover-register-conflict)
    (Compiler discard-call-live)
    (Compiler assign-registers)
    (Compiler finalize-locations)
    (Compiler expose-frame-var)
    (Compiler expose-basic-blocks)
    (Compiler flatten-program)
    (Compiler generate-x86-64))
(define t79 '(letrec ()
      (locals ()
        (begin
          (set! rax 0)
          (if (= rax 0)
              (set! rax 1)
              (set! rax 0))
          (if (< 7 #x100000000)
              (set! rax (+ rax #b0000000000000000000000000000000000000000000000000000000100000000))
              (set! rax (+ rax #b0000000000000000000000000000000000000000000000000000001000000000)))
          (if (< #x100000000 7)
              (set! rax (+ rax #b0000000000000000000000000000000000000000000000000000010000000000))
              (set! rax (+ rax #b0000000000000000000000000000000000000000000000000000100000000000)))
          (if (<= 7 #x100000000)
              (set! rax (+ rax #b0000000000000000000000000000000000000000000000010000000000000000))
              (set! rax (+ rax #b0000000000000000000000000000000000000000000000100000000000000000)))
          (if (<= #x100000000 7)
              (set! rax (+ rax #b0000000000000000000000000000000000000000000001000000000000000000))
              (set! rax (+ rax #b0000000000000000000000000000000000000000000010000000000000000000)))
          (if (= 7 #x100000000)
              (set! rax (+ rax #b0000000000000000000000000000000000000001000000000000000000000000))
              (set! rax (+ rax #b0000000000000000000000000000000000000010000000000000000000000000)))
          (if (= #x100000000 7)
              (set! rax (+ rax #b0000000000000000000000000000000000000100000000000000000000000000))
              (set! rax (+ rax #b0000000000000000000000000000000000001000000000000000000000000000)))
          (if (>= 7 #x100000000)
              (set! rax (+ rax #b0000000000000000000000000000000100000000000000000000000000000000))
              (set! rax (+ rax #b0000000000000000000000000000001000000000000000000000000000000000)))
          (if (>= #x100000000 7)
              (set! rax (+ rax #b0000000000000000000000000000010000000000000000000000000000000000))
              (set! rax (+ rax #b0000000000000000000000000000100000000000000000000000000000000000)))
          (if (> 7 #x100000000)
              (set! rax (+ rax #b0000000000000000000000010000000000000000000000000000000000000000))
              (set! rax (+ rax #b0000000000000000000000100000000000000000000000000000000000000000)))
          (if (> #x100000000 7)
              (set! rax (+ rax #b0000000000000000000001000000000000000000000000000000000000000000))
              (set! rax (+ rax #b0000000000000000000010000000000000000000000000000000000000000000)))
          (if (> 7 #x100000000)
              (set! rax (+ rax #b0000000000000001000000000000000000000000000000000000000000000000))
              (set! rax (+ rax #b0000000000000010000000000000000000000000000000000000000000000000)))
          (if (> #x100000000 7)
              (set! rax (+ rax #b0000000000000100000000000000000000000000000000000000000000000000))
              (set! rax (+ rax #b0000000000001000000000000000000000000000000000000000000000000000)))
          (r15 rax rbp)))))
(define t4 '(letrec ([f$1 (lambda ()
                    (locals (x.1 y.2 z.3)
                      (begin
                        (set! x.1 1)
                        (set! y.2 2)
                        (set! rax (+ x.1 y.2))
                        (r15 rax rcx rdx rbx rbp rdi rsi r8 r9 r10
                          r11 r12 r13 r14))))])
      (locals () (f$1 rbp r15))))
(pretty-print
(select-instructions
 (introduce-allocation-forms
 (uncover-frame-conflict
  (verify-scheme t79)))))


